plugins {
    id 'org.screamingsandals.plugin-builder-lite' version '1.0.50'
    id 'java-gradle-plugin'
}

defaultTasks "saveNmsMappings", "build", "shadowJar", "uploadNmsDocs" // order is important

allprojects {
    group = 'org.screamingsandals.nms'
    version = VERSION
}

apply plugin: org.screamingsandals.nms.mapper.NMSMapper

enableShadowPlugin()

dependencies {
    compileOnly 'org.jetbrains:annotations:22.0.0'
    compileOnly gradleApi()
    compileOnly 'org.projectlombok:lombok:1.18.20'
    annotationProcessor 'org.projectlombok:lombok:1.18.20'

    implementation 'org.spongepowered:configurate-gson:4.1.2'
    implementation 'com.squareup:javapoet:1.13.0'
    implementation 'commons-io:commons-io:2.10.0'
}

gradlePlugin {
    plugins {
        nmsMapper {
            id = 'org.screamingsandals.nms-mapper'
            implementationClass = 'org.screamingsandals.nms.generator.ClassGenerator'
        }
    }
}

sourceCompatibility = '11.0'

repositories {
    mavenCentral()
}
